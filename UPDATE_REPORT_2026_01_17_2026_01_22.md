# 업데이트 리포트
## 2026년 1월 17일 ~ 2026년 1월 22일

---

## 📋 목차
1. [UI/UX 개선](#1-uiux-개선)
2. [기능 추가](#2-기능-추가)
3. [버그 수정](#3-버그-수정)
4. [콘텐츠 및 페이지 개발](#4-콘텐츠-및-페이지-개발)
5. [배포 및 인프라](#5-배포-및-인프라)
6. [성능 최적화](#6-성능-최적화)

---

## 1. UI/UX 개선

### 1.1 홈 화면 리디자인
- **날짜**: 2026년 1월 20일
- **내용**:
  - 슬라이딩 탭 홈 화면 디자인 구현 (70/30 분할 레이아웃)
  - 액체 연결 탭 인터페이스 구현 (베지어 곡선 효과)
  - 반전 반경 CSS 클래스 추가
  - 탭 전환 및 곡선 효과 동기화 애니메이션 타이밍 추가
  - 메인 화면 레이아웃 개선 (화이트 카드 디자인 및 슬림 하단 네비게이션)
  - 메인 버튼을 50px 위로 이동
  - 액체 탭 곡선 정렬 개선 (흰색 간격 방지)
  - 애니메이션 타이밍 최적화 (0.2s/0.5s 동기화)
  - Hydration 오류 방지를 위한 suppressHydrationWarning 추가

### 1.2 네비게이션 개선
- **날짜**: 2026년 1월 22일
- **내용**:
  - 하단 네비게이션 바 텍스트 및 아이콘 크기 50% 증가
    - 아이콘: 16px → 24px (h-4 w-4 → h-6 w-6)
    - 텍스트: 10px → 14px (text-[10px] → text-sm)
    - 폰트: 12px → 16px (text-xs → text-base)
  - 가시성 향상으로 사용자 경험 개선

### 1.3 가독성 개선
- **날짜**: 2026년 1월 22일
- **내용**:
  - 전통혼례 맛보기 페이지 폰트 크기 증가
    - 본문 텍스트: 15px → 16px (text-base)
    - 설명 텍스트: 14px → 15px
  - 돌잔치 맛보기 페이지 폰트 크기 증가
    - 본문 텍스트: 13px → 15px
    - 리스트 항목: 14px → 15px
    - 태그: 12px → 14px
  - 전체 콘텐츠 섹션의 가독성 향상

### 1.4 홈 화면 탭 상태 유지
- **날짜**: 2026년 1월 22일
- **내용**:
  - localStorage를 활용한 홈 화면 탭 상태 저장 기능
  - 전통혼례/돌잔치 탭 선택 상태가 페이지 이동 후에도 유지
  - Hydration 오류 해결을 위한 클라이언트 사이드 상태 관리 개선

---

## 2. 기능 추가

### 2.1 전통혼례 맛보기 페이지
- **날짜**: 2026년 1월 22일
- **내용**:
  - YouTube 영상 삽입 (모집 개요 탭)
    - 영상 ID: 6LeMb6RjH-Y
    - 불필요한 YouTube 옵션 숨김 처리
  - 전통혼례 안내 탭 개선
    - 6~8번째 의례(전안례, 교배례, 합근례) 파란색 배경 및 흰색 텍스트로 강조
    - 진행 순서 섹션에 4장의 사진 추가
  - 장소안내 탭
    - 한국의집 이미지 추가
    - 다음 지도(Roughmap) 통합 (iframe 방식)
  - 식사안내 탭
    - 갈비탕 이미지 추가
    - 특제 갈비탕 설명 업데이트

### 2.2 돌잔치 맛보기 페이지
- **날짜**: 2026년 1월 22일
- **내용**:
  - YouTube 영상 삽입 (모집 개요 탭)
    - 영상 ID: iWA4IC2MqXo
    - 전통혼례와 동일한 스타일 및 옵션 적용
  - 돌잔치 안내 탭
    - 4단계 진행 순서에 사진 추가 (1, 2, 3, 4단계 모두)
  - 장소안내 탭
    - 우금헌 이미지 추가
    - 다음 지도 통합 (전통혼례와 동일)
  - 다과안내 탭 구현

### 2.3 전화 문의 기능
- **날짜**: 2026년 1월 22일
- **내용**:
  - 네비게이션 바의 "전화 문의" 버튼에 실제 전화번호 연결
  - 전화번호: 02-3011-9295
  - 모바일 환경에서 전화 앱 자동 실행

### 2.4 주소 검색 API 통합
- **날짜**: 2026년 1월 21일
- **내용**:
  - 다음 주소 검색 API 통합
  - ApplicationDataStep에 주소 검색 기능 추가
  - CSP 설정 업데이트 (postcode.map.daum.net 추가)
  - 개발/프로덕션 환경별 CSP 설정 분리
  - layout.tsx에 다음 API 스크립트 로드 추가

### 2.5 중복 신청 체크
- **날짜**: 2026년 1월 21일
- **내용**:
  - API 엔드포인트를 통한 중복 신청 확인 기능
  - 사용자 경험 개선

### 2.6 자동 하이픈 처리
- **날짜**: 2026년 1월 21일
- **내용**:
  - 전화번호 자동 하이픈 처리
  - 사업자번호 자동 하이픈 처리

### 2.7 찾아가는 돌잔치 팀 관리
- **날짜**: 2026년 1월 21일
- **내용**:
  - 단일 대상에서 팀 배열로 변경
  - 팀 추가/삭제 기능 구현
  - 팀당 여러 명 입력 기능 (쉼표로 구분)
  - 이름/생년월일/성별 개수 일치 검증
  - 기존 target 데이터와의 하위 호환성 지원

### 2.8 관리자 기능 개선
- **날짜**: 2026년 1월 19일 ~ 1월 20일
- **내용**:
  - 업로드된 파일별 문서명 표시 기능
  - 여러 지원 유형에 대한 순차적 문서 업로드 구현
  - 찾아가는 돌잔치 다중 팀 및 다중 인원 표시
  - 테이블 레이아웃으로 다중 인원 표시 지원

---

## 3. 버그 수정

### 3.1 돌잔치 지원 유형 선택
- **날짜**: 2026년 1월 22일
- **내용**:
  - 한부모가족 기본 선택 제거
  - 사용자가 명시적으로 선택하도록 변경
  - 편집 모드에서 이전 선택값 표시 유지
  - 필수 필드 검증 유지

### 3.2 돌잔치 날짜 선택
- **날짜**: 2026년 1월 22일
- **내용**:
  - 일요일만 선택 가능하도록 수정
  - 알림 메시지 업데이트
  - isDateSelectable 함수와의 일관성 확보

### 3.3 날짜 선택 개선
- **날짜**: 2026년 1월 18일 ~ 1월 21일
- **내용**:
  - 전통혼례 및 돌잔치 날짜 선택을 일요일만 허용하도록 변경
  - 첫 번째 우선순위 날짜만 선택 시 알림 팝업 추가
  - 전통혼례 시간대 옵션에서 18:00 제거 (12:00, 15:00만 유지)
  - 찾아가는 돌잔치는 모든 요일 선택 가능 유지

### 3.4 문서 업로드 표시
- **날짜**: 2026년 1월 21일
- **내용**:
  - 초기 모드에서 기존 파일 숨김 처리
  - 편집 모드에서만 기존 파일 표시

### 3.5 지원 유형별 문서 처리
- **날짜**: 2026년 1월 19일
- **내용**:
  - 전통혼례 특이 케이스 문서 추가 (targetCategory 기반)
  - 찾아가는 돌잔치 문서를 개별 업로드로 분리 (복지시설/영아원)
  - RequiredDocument 타입 import 추가

### 3.6 하위 호환성
- **날짜**: 2026년 1월 21일
- **내용**:
  - VisitingDoljanchiApplicationData에 선택적 target 속성 추가
  - 기존 데이터 형식과의 호환성 유지
  - TypeScript 컴파일 오류 해결

---

## 4. 콘텐츠 및 페이지 개발

### 4.1 전통혼례 맛보기 페이지
- **날짜**: 2026년 1월 22일
- **주요 기능**:
  - 4개 탭 구조 (모집개요, 전통혼례 안내, 장소안내, 식사안내)
  - YouTube 영상 임베드
  - 12단계 전통혼례 의례 설명
  - 진행 순서 이미지 (4장)
  - 다음 지도 통합
  - 특제 갈비탕 소개

### 4.2 돌잔치 맛보기 페이지
- **날짜**: 2026년 1월 22일
- **주요 기능**:
  - 4개 탭 구조 (모집개요, 돌잔치 안내, 장소안내, 다과안내)
  - YouTube 영상 임베드
  - 4단계 진행 순서 이미지
  - 다음 지도 통합
  - 특제 다과 소개

### 4.3 오픈 공지 화면
- **날짜**: 2026년 1월 19일
- **내용**:
  - 오픈 공지 화면 추가
  - 관리자 테스트 라우트 추가

---

## 5. 배포 및 인프라

### 5.1 Netlify 배포 설정
- **날짜**: 2026년 1월 22일
- **내용**:
  - CSP 헤더 통합 관리 (middleware.ts로 단일화)
  - netlify.toml 및 public/_headers에서 CSP 헤더 제거
  - 헤더 충돌 방지
  - daum-map.html iframe 로드 문제 해결
  - frame-ancestors 설정 최적화

### 5.2 다음 지도 통합
- **날짜**: 2026년 1월 22일
- **내용**:
  - iframe 방식으로 다음 지도(Roughmap) 통합
  - document.write 문제 해결
  - public/daum-map.html 파일 생성
  - CSP 설정 업데이트 (다음 지도 도메인 허용)
  - X-Frame-Options: SAMEORIGIN 헤더 추가
  - Netlify 배포 환경에서 iframe 로드 문제 해결

### 5.3 이미지 파일 관리
- **날짜**: 2026년 1월 20일
- **내용**:
  - 이미지 파일을 public/images 디렉토리로 이동
  - Netlify 배포를 위한 경로 최적화
  - doljanchi_baby.png 이미지 크기 70%로 축소

### 5.4 Content Security Policy (CSP) 설정
- **날짜**: 2026년 1월 21일 ~ 1월 22일
- **내용**:
  - YouTube 임베드 허용 (frame-src)
  - 다음 지도 API 도메인 허용
  - Pretendard 폰트 CDN 허용
  - 개발/프로덕션 환경별 CSP 설정 분리
  - HTTP/HTTPS 혼용 리소스 지원

---

## 6. 성능 최적화

### 6.1 애니메이션 최적화
- **날짜**: 2026년 1월 20일
- **내용**:
  - 액체 탭 곡선 애니메이션 타이밍 최적화
  - 탭 전환과 곡선 효과 동기화
  - cubic-bezier 이징 함수 적용
  - 애니메이션 지연 시간 조정 (0.5s → 0.7s)

### 6.2 이미지 최적화
- **날짜**: 2026년 1월 20일
- **내용**:
  - doljanchi_baby.png 이미지 크기 70%로 축소
  - 이미지 로드 실패 시 placeholder 표시

---

## 📊 통계

### 커밋 통계
- **총 커밋 수**: 약 60개
- **주요 업데이트 기간**: 2026년 1월 17일 ~ 1월 22일 (6일간)

### 주요 카테고리별 분포
1. **UI/UX 개선**: 약 25개 커밋
2. **기능 추가**: 약 15개 커밋
3. **버그 수정**: 약 10개 커밋
4. **배포/인프라**: 약 8개 커밋
5. **콘텐츠 개발**: 약 2개 커밋

---

## 🎯 주요 성과

1. **사용자 경험 개선**
   - 홈 화면 리디자인으로 직관적인 인터페이스 제공
   - 폰트 크기 증가로 가독성 향상
   - 네비게이션 바 개선으로 접근성 향상

2. **콘텐츠 품질 향상**
   - 전통혼례 및 돌잔치 맛보기 페이지 완성
   - 멀티미디어 콘텐츠 통합 (YouTube, 지도, 이미지)
   - 상세한 정보 제공으로 사용자 이해도 향상

3. **기술적 안정성**
   - CSP 설정 통합으로 보안 강화
   - Netlify 배포 환경 최적화
   - 하위 호환성 유지

4. **기능 완성도**
   - 주소 검색 API 통합
   - 중복 신청 체크 기능
   - 찾아가는 돌잔치 팀 관리 기능

---

## 📝 참고사항

- 모든 커밋 메시지는 영어로 작성되어 Git 저장소 무결성 유지
- Netlify 배포 환경에서의 테스트 및 검증 완료
- 모바일 환경 최적화 고려
- 접근성 및 사용성 개선 지속적 진행

---

**작성일**: 2026년 1월 22일  
**작성자**: 개발팀  
**버전**: 1.0
